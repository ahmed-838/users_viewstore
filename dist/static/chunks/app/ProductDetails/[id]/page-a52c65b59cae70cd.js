(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{2353:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var t=a(5155),n=a(2115),l=a(5695),r=a(3464),c=a(8814);let i=()=>{let e=(0,l.useParams)(),s=(0,l.useRouter)(),[a,i]=(0,n.useState)(""),[o,d]=(0,n.useState)(""),[m,x]=(0,n.useState)(null),[h,u]=(0,n.useState)(!1),[b,g]=(0,n.useState)(!0),[p,j]=(0,n.useState)(null),f={black:{name:"أسود",class:"bg-black"},white:{name:"أبيض",class:"bg-white border-2"},red:{name:"أحمر",class:"bg-red-500"},blue:{name:"أزرق",class:"bg-blue-500"},green:{name:"أخضر",class:"bg-green-500"},yellow:{name:"أصفر",class:"bg-yellow-400"},gray:{name:"رمادي",class:"bg-gray-500"},brown:{name:"بني",class:"bg-amber-800"},navy:{name:"كحلي",class:"bg-indigo-900"},beige:{name:"بيج",class:"bg-amber-100"}};if((0,n.useEffect)(()=>{let s=async()=>{try{g(!0);let s=e.id;try{let e=await r.A.get("".concat(c.A.API_BASE_URL,"/api/offers/").concat(s));if(e.data){x(e.data),u(!0),g(!1);return}}catch(e){}try{let e=await r.A.get("".concat(c.A.API_BASE_URL,"/api/products/").concat(s));if(e.data.product){console.log("Found in regular products:",e.data.product),x(e.data.product),u(!1),g(!1);return}}catch(e){console.error("Error fetching product:",e),j("لم يتم العثور على المنتج"),g(!1)}}catch(e){console.error("General error:",e),j("حدث خطأ أثناء تحميل المنتج"),g(!1)}};e.id&&s()},[e.id]),b)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"})});if(p||!m)return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[(0,t.jsx)("p",{className:"text-xl text-red-600 mb-4",children:p||"لم يتم العثور على المنتج"}),(0,t.jsx)("button",{onClick:()=>s.push("/"),className:"px-4 py-2 bg-black text-white rounded-lg",children:"العودة للصفحة الرئيسية"})]});let N=m.colors.map(e=>f[e]||{name:e,class:"bg-gray-300"});return(0,t.jsxs)("div",{dir:"rtl",className:"bg-gray-50 min-h-screen",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm",children:(0,t.jsx)("div",{className:"max-w-xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("img",{src:"/HelloBanner/view-store-logo.png",alt:"ViewStore Logo",className:" h-10 object-contain",onClick:()=>s.push("/")})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("span",{className:"font-bold text-xl cursor-pointer",onClick:()=>s.push("/"),children:"ViewStore"})})]})})}),(0,t.jsxs)("div",{className:"max-w-xl mx-auto pt-20 pb-32",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("button",{className:"flex items-center gap-2 text-sm hover:text-gray-600 transition-colors",onClick:()=>s.back(),children:[(0,t.jsx)("svg",{className:"w-5 h-5 transform rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{className:"font-semibold text-lg",children:m.name})]}),(0,t.jsx)("button",{className:"pl-8 hover:bg-gray-100 rounded-full transition-colors",onClick:()=>s.push("/"),title:"العودة للصفحة الرئيسية",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"mb-8 rounded-2xl overflow-hidden bg-white p-4",children:(0,t.jsxs)("div",{className:"relative aspect-square",children:[(0,t.jsx)("img",{src:"".concat(c.A.API_BASE_URL).concat(m.image),alt:m.name,className:"w-full h-full object-cover rounded-xl",onError:e=>{e.target.onerror=null}}),h&&(0,t.jsxs)("div",{className:"absolute top-4 right-4 bg-red-500 text-white px-3 py-1.5 rounded-full font-semibold",children:["خصم ",Math.round((m.oldPrice-m.newPrice)/m.oldPrice*100),"%"]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-6 shadow-sm",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:m.name}),(0,t.jsx)("div",{className:"flex items-baseline gap-3 mb-6",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"text-2xl font-bold text-red-600",children:[m.newPrice," جنيه"]}),(0,t.jsxs)("span",{className:"text-gray-500 line-through text-lg",children:[m.oldPrice," جنيه"]})]}):(0,t.jsxs)("span",{className:"text-2xl font-bold",children:[m.price," جنيه"]})}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-sm font-semibold mb-3",children:"اختر المقاس"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:m.sizes.map(e=>(0,t.jsx)("button",{className:"py-3 rounded-xl text-sm font-medium transition-all\n                    ".concat(a===e?"bg-black text-white":"bg-gray-50 hover:bg-gray-100"),onClick:()=>i(e),children:e},e))})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-sm font-semibold mb-3",children:"اختر اللون"}),(0,t.jsx)("div",{className:"flex gap-4 flex-wrap",children:N.map(e=>(0,t.jsxs)("button",{className:"group relative",onClick:()=>d(e.name),children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(e.class," ").concat(o===e.name?"ring-2 ring-black ring-offset-2":"")}),(0,t.jsx)("span",{className:"absolute top-14 right-1/2 transform translate-x-1/2 text-xs font-medium\n                    ".concat(o===e.name?"text-black":"text-gray-500"),children:e.name})]},e.name))})]}),m.description&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-sm font-semibold mb-2",children:"وصف المنتج"}),(0,t.jsx)("p",{className:"text-gray-600",children:m.description})]}),m.category&&!h&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-sm font-semibold mb-2",children:"الفئة"}),(0,t.jsxs)("p",{className:"text-gray-600",children:["pants"===m.category&&"بناطيل","shirts"===m.category&&"تيشرت","hoodies"===m.category&&"هوديز","boxers"===m.category&&"بوكسر","undershirt"===m.category&&"فانلة داخلية","underwear"===m.category&&"طقم داخلي"]})]})]}),(0,t.jsx)("div",{className:"fixed bottom-0 right-0 left-0 bg-white shadow-up p-4",children:(0,t.jsx)("div",{className:"max-w-xl mx-auto",children:(0,t.jsx)("button",{className:"w-full py-4 rounded-xl text-white font-bold text-sm transition-all\n                ".concat(a&&o?"bg-black hover:bg-gray-800":"bg-gray-300 cursor-not-allowed"),disabled:!a||!o,onClick:()=>{var e;if(!a||!o)return;let s=window.location.href,t=m.name;h?m.newPrice:m.price;let n=(null===(e=f[o])||void 0===e?void 0:e.name)||o,l="*طلب جديد من ViewStore*\n\n";if(l+="أرغب في شراء المنتج: *".concat(t,"*\n"),h){let e=Math.round((m.oldPrice-m.newPrice)/m.oldPrice*100);l+="السعر بعد الخصم: *".concat(m.newPrice," جنيه* بدلاً من ").concat(m.oldPrice," جنيه\n"),l+="نسبة الخصم: ".concat(e,"%\n")}else l+="السعر: *".concat(m.price," جنيه*\n");l+="المقاس: *".concat(a,"*\n"),l+="اللون: *".concat(n,"*\n\n"),l+="رابط المنتج: ".concat(s,"\n\n");let r=encodeURIComponent(l+="أرجو التواصل لإتمام عملية الشراء.\nشكراً لكم!"),c="https://wa.me/".concat("201126711312","?text=").concat(r);window.open(c,"_blank")},children:a&&o?"اشترِ الآن":"اختر المقاس واللون"})})})]})]})};function o(){return(0,t.jsx)("div",{children:(0,t.jsx)(i,{})})}},8814:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t={API_BASE_URL:"http://192.168.70.68:4444"}},9272:(e,s,a)=>{Promise.resolve().then(a.bind(a,2353))}},e=>{var s=s=>e(e.s=s);e.O(0,[794,441,684,358],()=>s(9272)),_N_E=e.O()}]);